{"version":3,"sources":["webpack:///D:/wechat/mobile-agent/components/softphone/Callsuccess.vue?98f4","webpack:///D:/wechat/mobile-agent/components/softphone/Callsuccess.vue?16da","webpack:///D:/wechat/mobile-agent/components/softphone/Callsuccess.vue?8548","webpack:///D:/wechat/mobile-agent/components/softphone/Callsuccess.vue?f748","webpack:///D:/wechat/mobile-agent/components/softphone/Callsuccess.vue"],"names":["props","computed","data","state","phoneData","newPhoneNum","pop","query","ajaxInfoArr","infoArr","mounted","getInfo","methods","getMsg","self","text","length","arr","temp","i","agentId","toString","indexOf","agentName","phoneNo","push","api","getInfoAjax","apiDomian","uerInfo","token","changeNav","val","changeClose","$emit","showPop","close","Hold","socketMain","hold","stra","Hangup","hangUp","blindtransfer","key","replace","phoneFlag","common","checkPhone","blindtransferAjax","getDialNumber","areaCode","dial","phoneNum","blindTransfer","uni","showToast","title","duration","icon"],"mappings":"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","file":"components/softphone/Callsuccess.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./Callsuccess.vue?vue&type=template&id=20b0ebbb&\"\nvar renderjs\nimport script from \"./Callsuccess.vue?vue&type=script&lang=js&\"\nexport * from \"./Callsuccess.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('20b0ebbb')) {\n      api.createRecord('20b0ebbb', component.options)\n    } else {\n      api.reload('20b0ebbb', component.options)\n    }\n    module.hot.accept(\"./Callsuccess.vue?vue&type=template&id=20b0ebbb&\", function () {\n      api.rerender('20b0ebbb', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"wechat/mobile-agent/components/softphone/Callsuccess.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Callsuccess.vue?vue&type=template&id=20b0ebbb&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Callsuccess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Callsuccess.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport socketYatai from \"@/components/softphone/config/socket/yatai\";\nimport socketMain from \"@/components/softphone/config/socket/main\";\nimport common from \"@/components/softphone/config/common\";\nimport api from \"@/components/softphone/config/api\";\nimport {  mapState,  mapMutations  } from 'vuex';\n\nexport default {\n\tprops:['timer','stra','strb'],\n\tcomputed: mapState(['hasLogin','uerInfo']),\n\tdata() {\n\t\treturn {\n\t\t\tstate :'A', //A转接在线坐席 C转接手机号码\n\t\t\tphoneData:'', //输入的外部号码\n\t\t\tnewPhoneNum:'', //外地手机加0\n\t\t\tpop:0,\n\t\t\tquery:'', //搜索框的值\n\t\t\tajaxInfoArr:[], //筛选在线坐席列表的变量 \n\t\t\tinfoArr:[], //在线坐席列表\n\t\t}\n\t},\n\t\n\tmounted: function(){\n\t\tthis.getInfo() //获取在先坐席分机\n\t},\n\t\n\tmethods: {\n\t\t\n\t\t//关键字筛选\n\t\tgetMsg(){\n\t\t\tvar self = this\n\t\t\tvar text = this.query //输入框的值\n\t\t\tvar length = text.length; //输入框值的长度\n\t\t\tvar arr = this.ajaxInfoArr \n\t\t\tvar temp = []\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tif(arr[i].agentId.toString().indexOf(text) != -1\n\t\t\t\t\t||arr[i].agentName.indexOf(text) != -1\n\t\t\t\t\t\t||arr[i].phoneNo.indexOf(text) != -1\n\t\t\t\t){\n\t\t\t\t\ttemp.push(arr[i]) //重新赋值 \n\t\t\t\t}\n\t\t\t}\n\t\t\tself.infoArr = temp\n\t\t},\n\t\t\n\t\t//获取在线坐席分机\n\t\tgetInfo(){\n\t\t\tvar self = this\n\t\t\tapi.getInfoAjax(self.apiDomian,self.uerInfo.token,function(data){\n\t\t\t\tself.ajaxInfoArr = data[1].data.data\n\t\t\t\tself.infoArr = data[1].data.data\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 切换导航\n\t\tchangeNav(val) {\n\t\t\tthis.state = val\n\t\t},\n\t\t\n\t\t//收起软电话\n\t\tchangeClose(){\n\t\t\tthis.$emit('close')\n\t\t},\n\t\t//显示弹窗\n\t\tshowPop(){\n\t\t\tthis.pop = 1\n\t\t},\n\t\t//关闭弹窗\n\t\tclose(){\n\t\t\tthis.pop = 0\n\t\t},\n\t\t\n\t\t//保持通话\n\t\tHold(){\n\t\t\tsocketMain.hold(this.stra)\n\t\t},\n\t\t\n\t\t//挂断通话\n\t\tHangup(){\n\t\t\tsocketMain.hangUp(this.stra)\n\t\t},\n\t\t\n\t\t//盲转接\n\t\tblindtransfer(key){\n\t\t\tvar self = this\n\t\t\t//判断手机号格式\n\t\t\tself.phoneData = self.phoneData.replace(/\\s/g, \"\")\n\t\t\tvar phoneFlag = common.checkPhone(self.phoneData)\n\t\t\tif(!phoneFlag){\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tif(key.length > 5){\n\t\t\t\tasync function blindtransferAjax () {\n\t\t\t\t\t//异地号码前加0 （9固定写）例9018575663545\n\t\t\t\t\tvar dial = await api.getDialNumber(self.phoneData,self.uerInfo.areaCode,self.apiDomian,self.uerInfo.token)\n\t\t\t\t\tvar phoneNum = '9'+dial[1].data.data\n\t\t\t\t\tself.newPhoneNum = phoneNum\n\t\t\t\t\tsocketMain.blindTransfer(self.newPhoneNum)\n\t\t\t\t}\n\t\t\t\tblindtransferAjax()\n\t\t\t\t\n\t\t\t}else if (key.length == 0){\n\t\t\t\tuni.showToast({\n\t\t\t\t    title: '请输入手机号码',\n\t\t\t\t    duration: 2000,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tsocketMain.blindTransfer(key)\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n}\n"],"sourceRoot":""}