{"version":3,"sources":["webpack:///D:/wechat/mobile-agent/components/softphone/Callphone.vue?e1bf","webpack:///D:/wechat/mobile-agent/components/softphone/Callphone.vue?2072","webpack:///D:/wechat/mobile-agent/components/softphone/Callphone.vue?bcc0","webpack:///D:/wechat/mobile-agent/components/softphone/Callphone.vue?f64d","webpack:///D:/wechat/mobile-agent/components/softphone/Callphone.vue"],"names":["props","computed","data","pop","NumArr","num","newPhoneNum","province","city","callPhoneFlag","mounted","methods","changeClose","$emit","call","addNum","key","replace","substring","close","deleteNum","length","makecall","self","makeCall","api","getPhoneCode","apiDomian","uerInfo","token","region","getDialNumber","areaCode","dial","phoneNum","funa_obj","socketMain","phoneFlag","common","checkPhone","mun","Agentavailable","agentavailable"],"mappings":"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","file":"components/softphone/Callphone.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./Callphone.vue?vue&type=template&id=3d4063a6&\"\nvar renderjs\nimport script from \"./Callphone.vue?vue&type=script&lang=js&\"\nexport * from \"./Callphone.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3d4063a6')) {\n      api.createRecord('3d4063a6', component.options)\n    } else {\n      api.reload('3d4063a6', component.options)\n    }\n    module.hot.accept(\"./Callphone.vue?vue&type=template&id=3d4063a6&\", function () {\n      api.rerender('3d4063a6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"wechat/mobile-agent/components/softphone/Callphone.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Callphone.vue?vue&type=template&id=3d4063a6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Callphone.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Callphone.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n//import socketYatai from \"@/components/softphone/config/socket/yatai\";\nimport socketMain from \"@/components/softphone/config/socket/main\";\nimport common from \"@/components/softphone/config/common\";\nimport api from \"@/components/softphone/config/api\";\nimport {  mapState,  mapMutations  } from 'vuex';\n\nexport default {\n\tprops:['timer'],\n\t\n\t// 提取存储数据\n\tcomputed: mapState(['hasLogin','uerInfo']),  \n\t\n\tdata() {\n\t\treturn {\n\t\t\tpop: '',\n\t\t\tNumArr: [1, 2, 3, 4, 5, 6, 7, 8, 9, 0], //拨号号码\n\t\t\tnum: '', //拨号输入的值\n\t\t\tnewPhoneNum: '',//加了90后的号码\n\t\t\tprovince:'', //省份\n\t\t\tcity:'' ,//城市\n\t\t\tcallPhoneFlag:false//拨号的弹窗，避免跟呼入弹窗冲突\n\t\t}\n\t},\n\n\tmounted() {\n\t\t\n\t},\n\t\n\tmethods: {\n\t\t\n\t\tchangeClose(){\n\t\t\tthis.$emit('close')\n\t\t},\n\t\t// 打电话弹窗\n\t\tcall() {\n\t\t\tthis.pop = 1\n\t\t},\n\t\t\n\t\t// 点击号码\n\t\taddNum(key) {\n\t\t\tthis.num = (this.num + key).replace(/\\s/g, \"\");\n\t\t\tthis.num = this.num.substring(0, 3) + ' ' + this.num.substring(3, 7) + ' ' + this.num.substring(7, 11);//电话号码输入格式3-4-4\n\t\t},\n\t\t\n\t\t// 关闭弹窗\n\t\tclose() {\n\t\t\tthis.pop = 0\n\t\t},\n\t\t\n\t\t// 删除号码\n\t\tdeleteNum() {\n\t\t\tvar num = this.num.replace(/\\s/g, \"\")\n\t\t\tnum = num.substring(0, num.length - 1)\n\t\t\tthis.num = num.substring(0, 3) + ' ' + num.substring(3, 7) + ' ' + num.substring(7, 11);//电话号码输入格式3-4-4\n\t\t},\n\t\t\n\t\t\n\t\t// 打电话 \n\t\tmakecall(){\n\t\t\t\n\t\t\tvar self = this\n\t\t\tself.callPhoneFlag = true //拨号的弹窗，避免跟呼入弹窗冲突\n\t\t\tself.$emit(\"funb\", self.callPhoneFlag);\n\t\t\t\n\t\t\tif(self.num.length > 7){\n\t\t\t\t// 判断手机号格式\n\t\t\t\tself.num = self.num.replace(/\\s/g, \"\")\n\t\t\t\tvar phoneFlag = common.checkPhone(self.num)\n\t\t\t\tif(!phoneFlag){\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tasync function makeCall () {\n\t\t\t\t\t// 获取归属地\n\t\t\t\t\tawait api.getPhoneCode(self.apiDomian,self.uerInfo.token,self.num,function(data){\n\t\t\t\t\t\tvar region = data[1].data.data\n\t\t\t\t\t\tself.city = region.city\n\t\t\t\t\t\tself.province = region.province\n\t\t\t\t\t})\n\t\t\t\t\t//异地号码前加0 （9固定写）例9018575663545\n\t\t\t\t\tvar dial = await api.getDialNumber(self.num,self.uerInfo.areaCode,self.apiDomian,self.uerInfo.token)\n\t\t\t\t\tvar phoneNum = '9'+dial[1].data.data\n\t\t\t\t\tself.newPhoneNum = phoneNum\n\t\t\t\t\tvar funa_obj = {\n\t\t\t\t\t\tnum: self.num,\n\t\t\t\t\t\tcity: self.city,\n\t\t\t\t\t\tprovince: self.province\n\t\t\t\t\t}\n\t\t\t\t\tself.$emit(\"funa\", funa_obj);\n\t\t\t\t\t\n\t\t\t\t\t// 拨打电话\n\t\t\t\t\tawait socketMain.makecall(phoneNum,self.num)\n\t\t\t\t}\n\t\t\t\tmakeCall()\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tvar funa_obj = {\n\t\t\t\t\tnum: self.num.replace(/\\s/g, \"\"),\n\t\t\t\t\tcity: '暂无',\n\t\t\t\t\tprovince: '暂无'\n\t\t\t\t}\n\t\t\t\tself.$emit(\"funa\", funa_obj);\n\t\t\t\tvar mun = self.num.replace(/\\s/g, \"\")\n\t\t\t\tsocketMain.makecall(mun)\n\t\t\t}\n\n\t\t\tthis.pop = 0   // 关闭拨号界面\n\t\t},\n\t\t\n\t\t//点击示闲\n\t\tAgentavailable(){\n\t\t\tsocketMain.agentavailable()\n\t\t},\n\t\t\n\t}\n}\n"],"sourceRoot":""}